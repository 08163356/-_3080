(window.webpackJsonp=window.webpackJsonp||[]).push([[551],{890:function(t,e,s){"use strict";s.r(e);var r=s(7),v=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"一、遇到的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、遇到的问题"}},[t._v("#")]),t._v(" 一、遇到的问题")]),t._v(" "),e("p",[t._v("当浏览器发出请求去访问其他路径时遇到问题：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Error received: Error: XHR 'GET' to URL 'https://widevine.eurofins-digitaltesting.com/cert-required/api/Ik0wR1ZCRUNDTkYi.YRMy4w.kgjp1ExZh2r1lcQezAm5HAfZq3J8vXQTBW-Bhdq-K5Y/cert-details'returned status HTTP 0\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("**知识点：**不同域间通信，在遇到复杂请求时，客户端不会先发送真实的请求头，而是发送检视请求用以检验双方是否能通信，如果验证成功则发送真实请求，双方三次握手建立连接再进行通讯。因此服务端和客户端有两次连接，第一次连接是验证，第二次连接是发送请求开始通信。")]),t._v(" "),e("p",[e("strong",[t._v("分析一")]),t._v("：http状态码中不存在返回值0，出现http 0的原因可能表明响应为空，（甚至没有返回标头）。意味着表示已接受连接，然后正常关闭（TCP FIN）")]),t._v(" "),e("p",[e("strong",[t._v("初步结论")]),t._v("：在第一次发送检视请求时验证失败，返回0。")]),t._v(" "),e("p",[t._v("①验证失败的原因可能是客户端没有证书，导致没有权限进行通信；")]),t._v(" "),e("p",[t._v("②可能是CORS，不同域之间无法通信。")]),t._v(" "),e("p",[e("strong",[t._v("验证①一")]),t._v("：在a3sa缺陷管理系统中，获取该测试需要的证书。将证书经过openssl转换为电视需要的格式内置到对应的目录。测试依旧不通过，验证失败")]),t._v(" "),e("p",[e("strong",[t._v("验证①二")]),t._v("：可能是证书的使用方法不正确。或许需要内置证书，使浏览器发送请求时进行解析，进行证书的双向验证。证书双向验证如果有人感兴趣可以评论下，我后期博客整理出来")]),t._v(" "),e("p",[e("strong",[t._v("验证②")]),t._v("：经过内置证书编译后测试依旧不通过，查看日志确实是CORS问题。")]),t._v(" "),e("p",[t._v("参考资料：")]),t._v(" "),e("p",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS")]),t._v(" "),e("p",[t._v("总结反思：")]),t._v(" "),e("p",[t._v("1.遇到问题可以先查看官方文档，或者在对方官网提问、搜索，看看被人以往有没有遇到过同样的问题")])])}),[],!1,null,null,null);e.default=v.exports}}]);