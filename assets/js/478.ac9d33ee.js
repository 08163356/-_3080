(window.webpackJsonp=window.webpackJsonp||[]).push([[478],{816:function(s,n,e){"use strict";e.r(n);var a=e(7),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("方法一：没用")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("switchTextToUTF8(str) {\n  // let encoder = new TextEncoder('utf8')\n  // return encoder.encode(str)\n  let encode = window.btoa(unescape(encodeURIComponent(str)));\n  return decodeURIComponent(escape(window.atob(encode)));\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("方法二：没用")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  // 将字符串格式化为UTF8编码的字节\n\x3c!-- more --\x3e\n  writeUTF(str, isGetBytes) {\n    var back = [];\n    var byteSize = 0;\n    for (var i = 0; i < str.length; i++) {\n      var code = str.charCodeAt(i);\n      if (0x00 <= code && code <= 0x7f) {\n        byteSize += 1;\n        back.push(code);\n      } else if (0x80 <= code && code <= 0x7ff) {\n        byteSize += 2;\n        back.push((192 | (31 & (code >> 6))));\n        back.push((128 | (63 & code)))\n      } else if ((0x800 <= code && code <= 0xd7ff)\n        || (0xe000 <= code && code <= 0xffff)) {\n        byteSize += 3;\n        back.push((224 | (15 & (code >> 12))));\n        back.push((128 | (63 & (code >> 6))));\n        back.push((128 | (63 & code)))\n      }\n    }\n    for (i = 0; i < back.length; i++) {\n      back[i] &= 0xff;\n    }\n    if (isGetBytes) {\n      return back\n    }\n    if (byteSize <= 0xff) {\n      return [0, byteSize].concat(back);\n    } else {\n      return [byteSize >> 8, byteSize & 0xff].concat(back);\n    }\n  },\n  \n  readUTF (arr) {\n    if (typeof arr === 'string') {\n      return arr;\n    }\n    var UTF = '', _arr = this.init(arr);\n    for (var i = 0; i < _arr.length; i++) {\n      var one = _arr[i].toString(2),\n        v = one.match(/^1+?(?=0)/);\n      if (v && one.length == 8) {\n        var bytesLength = v[0].length;\n        var store = _arr[i].toString(2).slice(7 - bytesLength);\n        for (var st = 1; st < bytesLength; st++) {\n          store += _arr[st + i].toString(2).slice(2)\n        }\n        UTF += String.fromCharCode(parseInt(store, 2));\n        i += bytesLength - 1\n      } else {\n        UTF += String.fromCharCode(_arr[i])\n      }\n    }\n    return UTF\n  },\n  \n  /**\n   * 初始化字节流,把-128至128的区间改为0-256的区间.便于计算\n   * @param {Array} array 字节流数组\n   * @return {Array} 转化好的字节流数组\n   */\n  init(array) {\n  for (var i = 0; i < array.length; i++) {\n    array[i] &= 0xff;\n  }\n  return array;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br")])]),n("p",[s._v("方法三：没用")]),s._v(" "),n("p",[s._v("如果web application的编码规则是utf-8，如网页头中的：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v('那么js文件中如果有中文输出就会出现乱码，解决此个问题可在引用javascript输出的地方加上charset="gb2312" 或 charset="big5"（假设输出的是Big5繁体字）。')]),s._v(" "),n("p",[s._v("例：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<script type="text/javascript" language="javascript" src="scripts/output.js" charset="gb2312"><\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("PS：另一种解决方法是把js文件保存为utf-8编码。\n如果web application的编码规则是utf-8，如网页头中的：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v('那么js文件中如果有中文输出就会出现乱码，解决此个问题可在引用javascript输出的地方加上charset="gb2312" 或 charset="big5"（假设输出的是Big5繁体字）。')]),s._v(" "),n("p",[s._v("例：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<script type="text/javascript" language="javascript" src="scripts/output.js" charset="gb2312"><\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("PS：另一种解决方法是把js文件保存为utf-8编码。")]),s._v(" "),n("p",[s._v("方法四：使用iconv-lite库")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/hwoehn/article/details/100582930?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-2-100582930-blog-116279183.pc_relevant_multi_platform_whitelistv3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-2-100582930-blog-116279183.pc_relevant_multi_platform_whitelistv3&utm_relevant_index=5",target:"_blank",rel:"noopener noreferrer"}},[s._v("控制台进行编码改变参考"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/momDIY/article/details/78329718",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://segmentfault.com/a/1190000005794963",target:"_blank",rel:"noopener noreferrer"}},[s._v("readUTF参考"),n("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);