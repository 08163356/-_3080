(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{395:function(a,e,t){"use strict";t.r(e);var r=t(7),s=Object(r.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h3",{attrs:{id:"一、bugreport分析工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、bugreport分析工具"}},[a._v("#")]),a._v(" 一、bugreport分析工具")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/9c4a8642ccbf",target:"_blank",rel:"noopener noreferrer"}},[a._v("ChkBugReport"),e("OutboundLink")],1)]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java -jar chkbugreport-0.5-215.jar E:\\办公文件\\浏览器基础业务室\\bug解决\\浏览器播放7天崩溃\\log.txt\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('java -jar chkbugreport.jar "E:\\办公文件\\浏览器基础业务室\\bug解决\\浏览器播放7天崩溃\\log.txt"\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("anr分析")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java -Xmx1024m -jar chkbugreport.jar E:\\办公文件\\浏览器基础业务室\\bug解决\\浏览器播放7天崩溃\\bugreport-xiaoyushan-RTT2.210907.001-2021-11-02-16-39-54\\FS\\data\\anr\\anr_2021-11-02-16-30-18-315\n\x3c!-- more --\x3e\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java -Xmx1024m -jar chkbugreport.jar E:\\办公文件\\浏览器基础业务室\\bug解决\\浏览器播放7天崩溃\\bugreport-xiaoyushan-RTT2.210907.001-2021-11-02-16-39-54\\FS\\data\\tombstones\\tombstone_01\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java -Xmx1024m -jar chkbugreport.jar E:\\办公文件\\浏览器基础业务室\\bug解决\\浏览器播放7天崩溃\\log.txt\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"二、参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、参考文章"}},[a._v("#")]),a._v(" 二、参考文章：")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/wumingqian_137229/article/details/53905611",target:"_blank",rel:"noopener noreferrer"}},[a._v("网站浏览器崩溃原因分析"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("https://segmentfault.com/a/1190000011154120")]),a._v(" "),e("p",[a._v("Bugreport日志分析https://www.jianshu.com/p/84e20b38d43c")]),a._v(" "),e("p",[a._v("调试系列2：bugreport实战篇http://gityuan.com/2016/06/11/bugreport-2/")]),a._v(" "),e("p",[a._v("confluence：http://dmtks.hisense.com/pages/viewpage.action?pageId=63314392")]),a._v(" "),e("h3",{attrs:{id:"三、bug解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、bug解决"}},[a._v("#")]),a._v(" 三、bug解决")]),a._v(" "),e("h4",{attrs:{id:"_1-问题一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-问题一"}},[a._v("#")]),a._v(" 1.问题一")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('java -jar chkbugreport.jar bugreport-xiaoyushan-RTT2.210907.001-2021-11-02-16-39-54.txt\nChkBugReport 0.5 (rev 215) (C) 2012 Sony Ericsson Mobile Communications AB\nFailed to load plugin: com.sonyericsson.chkbugreport.AdbExtension\nLoading input...\nException in thread "main" java.lang.OutOfMemoryError: Java heap space\n        at java.util.Arrays.copyOfRange(Arrays.java:3664)\n        at java.lang.String.<init>(String.java:207)\n        at java.lang.StringBuilder.toString(StringBuilder.java:407)\n        at com.sonyericsson.chkbugreport.util.LineReader.readLine(LineReader.java:92)\n        at com.sonyericsson.chkbugreport.BugReportModule.load(BugReportModule.java:175)\n        at com.sonyericsson.chkbugreport.BugReportModule.load(BugReportModule.java:162)\n        at com.sonyericsson.chkbugreport.BugReportModule.autodetectFile(BugReportModule.java:663)\n        at com.sonyericsson.chkbugreport.BugReportModule.autodetectFile(BugReportModule.java:613)\n        at com.sonyericsson.chkbugreport.BugReportModule.addFile(BugReportModule.java:562)\n        at com.sonyericsson.chkbugreport.Main.run(Main.java:210)\n        at com.sonyericsson.chkbugreport.Main.main(Main.java:358)\n\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br")])]),e("p",[a._v("https://java2blog.com/could-not-reserve-enough-space-for-object-heap/")]),a._v(" "),e("p",[a._v("解决方法：java -Xmx1024m -jar chkbugreport.jar bugreport-xiaoyushan-RTT2.210907.001-2021-11-02-16-39-54.txt")]),a._v(" "),e("h3",{attrs:{id:"四、疑问解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、疑问解决"}},[a._v("#")]),a._v(" 四、疑问解决")]),a._v(" "),e("h4",{attrs:{id:"_1-misc是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-misc是什么"}},[a._v("#")]),a._v(" 1.misc是什么")]),a._v(" "),e("p",[a._v("这个分区中包含了各种以开关量形式保存的系统配置，包括 CID（Carrier or Region ID）、USB配置和某些硬件配置等。这是个很重要的分区，如果它遭到了破坏或有数据丢失，那么设备的一些功能可能无法正常使用。")]),a._v(" "),e("p",[a._v("https://blog.csdn.net/Qidi_Huang/article/details/53128256")]),a._v(" "),e("h4",{attrs:{id:"_2-tombstone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-tombstone"}},[a._v("#")]),a._v(" 2.tombstone")]),a._v(" "),e("p",[a._v("当一个动态库（native 程序）开始执行时，系统会注册一些连接到 debuggerd 的 signal handlers，当系统 crash 的时候，会保存一个 tombstone 文件到/data/tombstones目录下（Logcat中也会有相应的信息），文件的确就像墓碑一样记录了死亡了的进程的基本信息（例如进程的进程号，线程号），死亡的地址（在哪个地址上发生了 Crash），死亡时的现场是什么样的（记录了一系列的堆栈调用信息）等等。")]),a._v(" "),e("p",[a._v("https://www.cnblogs.com/codertian/p/5980426.html  分析方法")]),a._v(" "),e("h4",{attrs:{id:"_3-binder"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-binder"}},[a._v("#")]),a._v(" 3.Binder")]),a._v(" "),e("h4",{attrs:{id:"_4-死机常见日志信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-死机常见日志信息"}},[a._v("#")]),a._v(" 4.死机常见日志信息")]),a._v(" "),e("p",[a._v("https://blog.csdn.net/andyhuabing/article/details/7553524")]),a._v(" "),e("h4",{attrs:{id:"_5-firestore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-firestore"}},[a._v("#")]),a._v(" 5.Firestore")]),a._v(" "),e("p",[a._v("https://xiu2.net/it/details/6106524379193629344731ff")]),a._v(" "),e("h4",{attrs:{id:"_6-fc-forced-close"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-fc-forced-close"}},[a._v("#")]),a._v(" 6.FC（Forced Close）")]),a._v(" "),e("p",[a._v("程序或ROM出现了比较严重的错误，必须退出重启。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("1.Error\n\n                OOM(out of memory error)     内存耗尽\n\n                StackOverFlowError                堆栈溢出\n\n 2.RuntimeException                            运行时错误\n")])])]),e("p",[a._v("错误分析")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("导致一个应用发生FC的原因可以分为：\n\n应用本身内在逻辑有问题，出现空指针，数据越界等异常\n\n应用调用framework层的接口，返回了应用期望之外的值，导致应用FC。\n\n像我以前遇到过一个第三方应用播放器FC的问题：在该音乐播放器中添加播放列表A，接着添加播放列表a，结果音乐播放器就FC了。原因是在添加播放列表的时候，会向媒体数据库中添加一个记录项，但是Android 4.3 的sqlite中好像对 媒体数据库中的_ID 字段有限制，不区分大小写，并且_ID要保持唯一性，所以sqlite异常，并返回了一个 null ，结果应用就FC了。\n\n\n总的来说应用FC，肯定是可以通过修改应用来避免其FC的。\n\n\n 当发生FC时，肯定会打印当前发生FC的条用栈，根据这个调用栈。可以看到是什么原因导致应用FC，必要时可以打印应用传入值和framework层接口返回值。\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br")])]),e("p",[a._v("分析方法：https://kknews.cc/code/jqezb2e.html")]),a._v(" "),e("h4",{attrs:{id:"_7-rom深入了解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-rom深入了解"}},[a._v("#")]),a._v(" 7.ROM深入了解")]),a._v(" "),e("h4",{attrs:{id:"_8-anr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-anr"}},[a._v("#")]),a._v(" 8.anr")]),a._v(" "),e("p",[a._v("https://www.jianshu.com/p/9b36b337d25f 可能情况分析")]),a._v(" "),e("p",[a._v("https://liuyan.tech/2019/08/07/Andriod-ANR%E6%80%BB%E7%BB%93%E5%8F%8A%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/")]),a._v(" "),e("p",[a._v("官网分析：https://source.android.com/source/read-bug-reports.html?hl=zh-cn")]),a._v(" "),e("p",[a._v("用户输入时间在5S内没有得到相应，Android系统就会判定你出现了ANR，弹出一个对话框来提醒你。具体的原因可能很多，比如在主线程里下载大量数据、数据库读取数据、读写SD卡的等等。因为我们的主线程只负责")]),a._v(" "),e("p",[e("em",[a._v("*1.创建UI控件*")])]),a._v(" "),e("p",[a._v("2.更新UI控件状态")]),a._v(" "),e("p",[e("em",[a._v("*3.事件处理*")])]),a._v(" "),e("p",[a._v("https://www.cxyzjd.com/article/Bill_xiao/115554897")]),a._v(" "),e("h4",{attrs:{id:"_9-looper-loop-looper-java-223"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-looper-loop-looper-java-223"}},[a._v("#")]),a._v(" 9..Looper.loop(Looper.java:223)")]),a._v(" "),e("h4",{attrs:{id:"_10-cloud-firestore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-cloud-firestore"}},[a._v("#")]),a._v(" 10.Cloud Firestore")]),a._v(" "),e("p",[a._v("是 Firebase 用于移动应用开发的最新数据库。它具备更直观的新数据模型，在实时数据库的成功基础上更上一层楼。与实时数据库相比，Cloud Firestore 还提供了更丰富、更快速的查询以及更好的扩缩功能。")]),a._v(" "),e("h4",{attrs:{id:"_11-offline-persistence"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-offline-persistence"}},[a._v("#")]),a._v(" 11.offline persistence")]),a._v(" "),e("p",[a._v("setPersistenceEnabled(true)")]),a._v(" "),e("h4",{attrs:{id:"_12-broadcast的anr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-broadcast的anr"}},[a._v("#")]),a._v(" 12.Broadcast的anr")]),a._v(" "),e("p",[a._v("https://www.cxyzjd.com/article/chewbee/72670603")]),a._v(" "),e("p",[e("a",{attrs:{href:"http://gityuan.com/2016/06/04/broadcast-receiver/",target:"_blank",rel:"noopener noreferrer"}},[a._v("《Android Broadcast广播机制分析》"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("广播anr深入分析：https://www.cxyzjd.com/article/Bill_xiao/115554897")]),a._v(" "),e("h4",{attrs:{id:"_13-按键anr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-按键anr"}},[a._v("#")]),a._v(" 13.按键anr")]),a._v(" "),e("p",[a._v("https://www.cxyzjd.com/article/weixin_33672400/91806459 Android 深入理解 ANR 触发原理")]),a._v(" "),e("p",[a._v("浅谈ANR及如何分析解决https://www.cxyzjd.com/article/weixin_33672400/91806459")]),a._v(" "),e("h4",{attrs:{id:"_14-bugreport目录分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-bugreport目录分析"}},[a._v("#")]),a._v(" 14.bugreport目录分析：")]),a._v(" "),e("p",[a._v("https://developer.android.com/studio/debug/bug-report?hl=zh-cn")]),a._v(" "),e("h4",{attrs:{id:"_15-module-metadata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-module-metadata"}},[a._v("#")]),a._v(" 15.Module metadata")]),a._v(" "),e("h4",{attrs:{id:"_16-proto文件作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-proto文件作用"}},[a._v("#")]),a._v(" 16.proto文件作用")]),a._v(" "),e("p",[a._v("https://blog.csdn.net/u014308482/article/details/52958148")]),a._v(" "),e("h4",{attrs:{id:"_17-externalstorage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_17-externalstorage"}},[a._v("#")]),a._v(" 17.externalstorage")]),a._v(" "),e("p",[a._v("https://www.jianshu.com/p/819003a1716e")]),a._v(" "),e("p",[a._v("https://www.it1352.com/2170178.html原理解释")]),a._v(" "),e("p",[a._v("可能是在调用存储的时候产生的anr吗？")]),a._v(" "),e("p",[a._v("视频传输到浏览器会进行缓存吗？")]),a._v(" "),e("p",[a._v("会动用到存储吗？")]),a._v(" "),e("h4",{attrs:{id:"_18-hotplugdetectionaction-poll-all-devices-作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_18-hotplugdetectionaction-poll-all-devices-作用"}},[a._v("#")]),a._v(" 18.HotPlugDetectionAction: Poll all devices.作用")]),a._v(" "),e("h4",{attrs:{id:"_19-sandboxed-process1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_19-sandboxed-process1"}},[a._v("#")]),a._v(" 19.sandboxed_process1")]),a._v(" "),e("p",[a._v("com.android.chrome 基本进程，还没有研究它是做什么的")]),a._v(" "),e("p",[a._v("com.android.chrome:sandboxed_process0 空白tab对应的进程")]),a._v(" "),e("p",[a._v("com.android.chrome:sandboxed_process[1~n] 正常页面对应的进程名称。")]),a._v(" "),e("p",[a._v("沙盒机制：https://sqliu.wordpress.com/2012/11/26/chrome-for-android%E7%9A%84sandbox%E6%9C%BA%E5%88%B6/")]),a._v(" "),e("h4",{attrs:{id:"_20-media-codec作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_20-media-codec作用"}},[a._v("#")]),a._v(" 20.media.codec作用")]),a._v(" "),e("p",[a._v("就是处理输入数据以产生输出数据")]),a._v(" "),e("p",[a._v("MediaCodec基本原理及使用https://blog.csdn.net/a910626/article/details/81455959")]),a._v(" "),e("h4",{attrs:{id:"_21-android-gms"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_21-android-gms"}},[a._v("#")]),a._v(" 21.android.gms")]),a._v(" "),e("p",[a._v("GMS（英语：Google Mobile Services），是Google应用程序和"),e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//developers.google.com/android/guides/overview",target:"_blank",rel:"noopener noreferrer"}},[a._v("API"),e("OutboundLink")],1),a._v("的集合。这些应用程序可以跨设备的无缝协作，给您的设备提供出色的用户体验。")]),a._v(" "),e("p",[a._v("https://zhuanlan.zhihu.com/p/66478028 介绍")]),a._v(" "),e("h4",{attrs:{id:"_22-am-skipping-anr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_22-am-skipping-anr"}},[a._v("#")]),a._v(" 22.AM skipping ANR")]),a._v(" "),e("p",[a._v("参考文档:http://dianzishu.mtboo.com/article/yidongkaifa/16772.html")]),a._v(" "),e("p",[a._v("发生ANR之后，都是通过"),e("code",[a._v("com.android.server.am.AppErrors#appNotResponding")]),a._v("的方法来进行通知。")]),a._v(" "),e("h4",{attrs:{id:"_23-为什么cpu占用率超过100"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_23-为什么cpu占用率超过100"}},[a._v("#")]),a._v(" 23.为什么CPU占用率超过100%")]),a._v(" "),e("p",[a._v("说明是多核CPU，还有可能是多个物理cpu或者多个逻辑cpu，查看cpu信息")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cat /proc/cpuinfo\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("Centos下查看cpu核数https://www.jianshu.com/p/4cdd46f5e543")]),a._v(" "),e("h3",{attrs:{id:"五、原因分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、原因分析"}},[a._v("#")]),a._v(" 五、原因分析")]),a._v(" "),e("p",[a._v("音视频播放时候的anr、FC")]),a._v(" "),e("p",[a._v("1.会不会是系统引起的原因呢？")]),a._v(" "),e("p",[a._v("2.先是广播导致anr，然后浏览器CPU占用率太高。什么情况下会导致cpu占用率高？")]),a._v(" "),e("p",[a._v("关键log：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("11-02 15:56:37.445  1000 13524 13558 W BroadcastQueue: Timeout of broadcast BroadcastRecord{c395d2b u-1 android.os.storage.action.VOLUME_STATE_CHANGED} - receiver=android.os.BinderProxy@77b327e, started 60035ms ago\n11-02 15:56:37.448  1000 13524 13558 W BroadcastQueue: Receiver during timeout of BroadcastRecord{c395d2b u-1 android.os.storage.action.VOLUME_STATE_CHANGED} : ResolveInfo{44b13df com.android.externalstorage/.MountReceiver m=0x108000}\n11-02 15:56:37.573  1000 13524 12159 I ActivityManager: dumpStackTraces pids=null nativepids=null\n11-02 15:56:37.589  1000 13524 12159 I ActivityManager: Dumping to /data/anr/anr_2021-11-02-15-56-37-588\n11-02 15:56:37.590  1000 13524 12159 I ActivityManager: Collecting stacks for pid 11583\n11-02 15:56:37.723  1000 13524 13550 W Looper  : Slow dispatch took 109ms android.ui h=com.android.server.am.ActivityManagerService$UiHandler c=null m=53\n11-02 15:56:39.710  1000 13524 13524 V HotPlugDetectionAction: Poll all devices.\n11-02 15:56:42.972  1000 13524 12159 I ActivityManager: Done dumping\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager: ANR in com.android.externalstorage\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager: PID: 11583\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager: Reason: Broadcast of Intent { act=android.os.storage.action.VOLUME_STATE_CHANGED flg=0x5000010 cmp=com.android.externalstorage/.MountReceiver (has extras) }\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager: Load: 0.0 / 0.0 / 0.0\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager: CPU usage from 0ms to 5482ms later (2021-11-02 15:56:37.490 to 2021-11-02 15:56:42.972):\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager:   53% 23691/com.hisense.odinbrowser: 37% user + 15% kernel / faults: 1332 minor 24 major\n11-02 15:56:43.039  1000 13524 12159 E ActivityManager:   40% 23816/com.hisense.odinbrowser:sandboxed_process1:org.chromium.content.app.Sandbox: 34% user + 6.3% kernel / faults: 11689 minor 134 major\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br")])]),e("p",[a._v("浏览器：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("53% 23691/com.hisense.odinbrowser: 37% user + 15% kernel / faults: 1332 minor 24 major\n40% 23816/com.hisense.odinbrowser:sandboxed_process1:org.chromium.content.app.Sandbox: 34% user + 6.3% kernel / faults: 11689 minor 134 major\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("3.可能是其他进程导致浏览器的anr问题")]),a._v(" "),e("p",[a._v("4.播放视频的时候需要binder吗？")]),a._v(" "),e("p",[a._v("5.其他应用是如何")]),a._v(" "),e("h3",{attrs:{id:"六、最终结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六、最终结果"}},[a._v("#")]),a._v(" 六、最终结果")]),a._v(" "),e("p",[a._v("该问题是anr、FC问题")]),a._v(" "),e("h5",{attrs:{id:"根据对任务给出的bugreport中的几十个文件进行分析-如下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据对任务给出的bugreport中的几十个文件进行分析-如下"}},[a._v("#")]),a._v(" 根据对任务给出的bugreport中的几十个文件进行分析，如下：")]),a._v(" "),e("p",[a._v("1.压测过程中浏览器中共出现了80次anr，并未出现因为浏览器导致的anr，其中60%以上为com.google.android.gms导致。")]),a._v(" "),e("p",[a._v("2.对11月2日16.09出现的tombstone进行分析，是com.hulu.livingroomplus引起的crash，于此同时com.google.android.gms进程也出现了anr，并且gms被kill")]),a._v(" "),e("p",[a._v("3.使用ChkBugReport工具对近两百m的日志进行分析发现错误的原因是Failed to gain exclusive lock to the Cloud Firestore client's offline persistence。浏览器在使用网页播放视频时是不涉及Cloud Firestore数据库的，该问题可能是gms杀死了相关的服务导致导致的")]),a._v(" "),e("p",[a._v("4.浏览器并非首当其冲，嫌犯com.google.android.gms还造成过如链接所示的其他事故")]),a._v(" "),e("h5",{attrs:{id:"根据分析得出结论"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据分析得出结论"}},[a._v("#")]),a._v(" 根据分析得出结论：")]),a._v(" "),e("p",[a._v("该问题是com.google.android.gms相关服务自升级，升级完成后的服务会被kill，导致浏览器卡死，退出。由于有的服务重启后需要整机重启后才能生效，所有二次进入后浏览器依然会出现FC现象。")]),a._v(" "),e("h5",{attrs:{id:"解决办法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[a._v("#")]),a._v(" 解决办法：")]),a._v(" "),e("p",[a._v("由于第三方问题导致，且出现概率极低，因此以won‘t fix 关闭")])])}),[],!1,null,null,null);e.default=s.exports}}]);