(window.webpackJsonp=window.webpackJsonp||[]).push([[716],{1058:function(r,v,a){"use strict";a.r(v);var e=a(7),_=Object(e.a)({},(function(){var r=this,v=r._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[v("h2",{attrs:{id:"一、介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、介绍"}},[r._v("#")]),r._v(" 一、介绍：")]),r._v(" "),v("p",[r._v("在 Web 开发中，当我们处理文件时（创建，上传，下载），经常会遇到二进制数据。另一个典型的应用场景是图像处理。")]),r._v(" "),v("p",[r._v("这些都可以通过 JavaScript 进行处理，而且二进制操作性能更高。")]),r._v(" "),v("p",[r._v("不过，在 JavaScript 中有很多种二进制数据格式，会有点容易混淆。仅举几个例子：")]),r._v(" "),v("ul",[v("li",[v("code",[r._v("ArrayBuffer")]),r._v("，"),v("code",[r._v("Uint8Array")]),r._v("，"),v("code",[r._v("DataView")]),r._v("，"),v("code",[r._v("Blob")]),r._v("，"),v("code",[r._v("File")]),r._v(" 及其他。")])]),r._v(" "),v("p",[r._v("与其他语言相比，JavaScript 中的二进制数据是以非标准方式实现的。")]),r._v(" "),v("p",[v("strong",[r._v("基本的二进制对象是 "),v("code",[r._v("ArrayBuffer")]),r._v(" —— 对固定长度的连续内存空间的引用")])]),r._v(" "),v("p",[r._v("tips：")]),r._v(" "),v("p",[v("strong",[v("code",[r._v("ArrayBuffer")]),r._v(" 不是某种东西的数组")])]),r._v(" "),v("p",[r._v("让我们先澄清一个可能的误区。"),v("code",[r._v("ArrayBuffer")]),r._v(" 与 "),v("code",[r._v("Array")]),r._v(" 没有任何共同之处：")]),r._v(" "),v("ul",[v("li",[r._v("它的长度是固定的，我们无法增加或减少它的长度。")]),r._v(" "),v("li",[r._v("它正好占用了内存中的那么多空间。")]),r._v(" "),v("li",[r._v("要访问单个字节，需要另一个“视图”对象，而不是 "),v("code",[r._v("buffer[index]")]),r._v("。")])]),r._v(" "),v("h3",{attrs:{id:"补充"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[r._v("#")]),r._v(" 补充")]),r._v(" "),v("p",[r._v("你从XHR、File API、Canvas等等各种地方，读取了一大串字节流，如果用JS里的Array去存，又浪费，又低效。")]),r._v(" "),v("p",[r._v("于是为了配合这些新的API增强JS的二进制处理能力，就有了ArrayBuffer。")]),r._v(" "),v("p",[r._v("ArrayBuffer简单说是一片内存")]),r._v(" "),v("h2",{attrs:{id:"二、用法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、用法"}},[r._v("#")]),r._v(" 二、用法：")]),r._v(" "),v("p",[r._v("创建。")]),r._v(" "),v("p",[r._v("它会分配一个 16 字节的连续内存空间，并用 0 进行预填充。")]),r._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[r._v("let buffer = new ArrayBuffer(16); // 创建一个长度为 16 的 buffer\nalert(buffer.byteLength); // 16\n")])]),r._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[r._v("1")]),v("br"),v("span",{staticClass:"line-number"},[r._v("2")]),v("br")])]),v("p",[r._v("参考文档：\nhttps://zh.javascript.info/arraybuffer-binary-arrays")])])}),[],!1,null,null,null);v.default=_.exports}}]);