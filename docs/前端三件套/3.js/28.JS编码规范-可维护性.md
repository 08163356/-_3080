---
title: JS编码规范-可维护性
date: 2024-01-24 23:08:35
permalink: /pages/5fff41/
categories:
  - 前端三件套
  - js
tags:
  - 
author: 
  name: aXing
  link: https://github.com/08163356
---

变量类型透明化

```
let found = false // boolean 
let count = -1 //number
let name = "" //string
let persion = null //object
```

1.3 松散耦合

不要在一个对象中直接引用另一个对象

解耦HTML/JavaScript

<!-- more -->
解耦应用程序逻辑/事件处理程序

```
以下是在解耦应用程序逻辑和业务逻辑时应该注意的几点。
❑ 不要把event对象传给其他方法，而是只传递event对象中必要的数据。
❑ 应用程序中每个可能的操作都应该无须事件处理程序就可以执行。
❑ 事件处理程序应该处理事件，而把后续处理交给应用程序逻辑。
```

1.4 编码惯例

1．尊重对象所有权

不要修改不属于你的对象。简单来讲，如果你不负责创建和维护某个对象及其构造函数或方法，就不应该对其进行任何修改。

```
❑ 不要给实例或原型添加属性。
❑ 不要给实例或原型添加方法。
❑ 不要重定义已有的方法。
```

Array、document等对象都不是你的

```
可以按如下这样为对象添加新功能。
❑ 创建包含想要功能的新对象，通过它与别人的对象交互。
❑ 创建新自定义类型继承本来想要修改的类型，可以给自定义类型添加新功能。
```

2．不声明全局变量

全局对象可以扩展为命名空间的概念。命名空间涉及创建一个对象，然后通过这个对象来暴露能力

比如，Google Closure库就利用了这样的命名空间来组织其代码。下面是几个例子。

```
❑ goog.string：用于操作字符串的方法。
❑ goog.html.utils：与HTML相关的方法。
❑ goog.i18n：与国际化（i18n）相关的方法。
```

对象goog就相当于一个容器，其他对象包含在这里面。只要使用对象以这种方式来组织功能，就可以称该对象为命名空间。

命名空间确保代码与页面上的其他代码互不干扰

3．不要比较null

JavaScript不会自动做任何类型检查，因此就需要开发者担起这个责任。

检查值的类型就要真的检查类型，而不是检查它不能是什么

如果看到比较null的代码，可以使用下列某种技术替换它。

```
❑ 如果值应该是引用类型，则使用instanceof操作符检查其构造函数。
❑ 如果值应该是原始类型，则使用typeof检查其类型。
❑ 如果希望值是有特定方法名的对象，则使用typeof操作符确保对象上存在给定名字的方法。
```

代码中比较null的地方越少，就越容易明确类型检查的目的，从而消除不必要的错误。

4．使用常量

可以使用以下标准检查哪些数据需要提取。

```
❑ 重复出现的值：任何使用超过一次的值都应该提取到常量中，这样可以消除一个值改了而另一个值没改造成的错误。这里也包括CSS的类名。
❑ 用户界面字符串：任何会显示给用户的字符串都应该提取出来，以方便实现国际化。
❑ URL:Web应用程序中资源的地址经常会发生变化，因此建议把所有URL集中放在一个地方管理。
❑ 任何可能变化的值：任何时候，只要在代码中使用字面值，就问问自己这个值将来是否可能会变。如果答案是“是”，那么就应该把它提取到常量中。
```

