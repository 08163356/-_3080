---
title: vite打包速度很慢
date: 2024-01-21 03:32:46
permalink: /pages/2a0fb7/
categories:
  - 前端工程化
tags:
  - 前端工程化
author: 
  name: aXing
  link: https://github.com/08163356
---
问题：

1.vite打包的速度很慢为啥

```
Vite是一个基于ESM的构建工具，它使用了现代浏览器的原生ES模块解析器，可以实现快速的开发和构建。但是，Vite打包速度慢的问题可能是由于以下原因导致的：

1. 依赖库过多：如果项目中依赖的库过多，会导致打包速度变慢。可以通过减少依赖库或者使用Tree Shaking等技术来优化打包速度。

2. 配置不当：Vite的配置文件中有很多选项，如果配置不当，也会导致打包速度变慢。可以针对具体的应用场景进行优化配置。

3. 代码质量问题：如果代码质量不佳，如过多的嵌套、重复代码等，也会导致打包速度变慢。可以通过代码重构等方式来优化代码质量。

4. 硬件设备问题：如果硬件设备性能较低，也会导致打包速度变慢。可以考虑升级硬件设备或者使用云服务等方式来提高打包速度。

为了优化Vite的打包速度，可以尝试以下解决办法：

1. 减少依赖库：尽量减少依赖库的数量和大小，可以使用Tree Shaking等技术来优化依赖库。

2. 优化配置文件：根据应用场景和需求进行优化配置，如关闭不必要的选项、使用合适的插件等。

3. 优化代码质量：优化代码质量，如减少嵌套、删除重复代码等，可以提高打包速度。

4. 使用缓存：使用缓存可以避免重复打包，从而提高打包速度。

5. 升级硬件设备：如果硬件设备性能较低，可以考虑升级硬件设备或者使用云服务等方式来提高打包速度。

需要注意的是，Vite打包速度慢的问题可能是由多种因素导致的，需要根据具体的应用场景和需求进行评估和优化，不能一概而论。
```

2.前端修改一个地方后往往需要很长的时间才能在网页中显示出来

引申问题：

vite如何使用tree shaking进行打包优化

```
Tree-shaking (摇树优化）Tree-shaking的本质是消除无用的js代码。无用代码消除在广泛存在于传统的编程语言编译器中，编译器可以判断出某些代码根本不影响输出，然后消除这些代码，这个称之为DCE（dead code elimination）。 Tree-shaking 是 DCE 的一种新的实现，Javascript同传统的编程语言不同的是，javascript绝大多数情况需要通过网络进行加载，然后执行，加载的文件大小越小，整体执行时间更短，所以去除无用代码以减少文件体积，对javascript来说更有意义。 Tree-shaking 和传统的 DCE的方法又不太一样，传统的DCE 消灭不可能执行的代码，而Tree-shaking 更关注于消除没有用到的代码。
```

