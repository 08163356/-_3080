---
title: 前端一致性问题解决
date: 2024-01-24 23:08:35
permalink: /pages/7139ab/
categories:
  - 前端工程化
  - 项目工程化问题解决
tags:
  - 
author: 
  name: aXing
  link: https://github.com/08163356
---






## 一、原始问题：

同样的UI代码，在不同版本浏览器，PC和TV之间，表现不一致，如何使PC表现和TV一致？如何快速定位问题?

## 二、问题分析：

上述问题可拆分为如下两个问题

1.PC\TV之间前端包最终CSS存在部分内容开发不一致。具体分为下面两种情况，并且给出具体原因：

- **PC上开发正常，到TV后部分样式异常**：使用了较高版本浏览器的样式；需求理解和TVS的PRD给出的不一致
- **TV中平台9900正常，切换到9618异常**：样式的兼容性不够，切换平台后导致样式偏移

2.**前端如何快速定位问题：**出现bug后前端没有log；出现事故后到现场无法进行代码分析

## 三、解决方案

使用了较高版本浏览器的样式

```
1.保证环境一致性。本地chrome内核版本和电视内核版本对齐
2.增量升级。开发时选择低版本浏览器的CSS，根据业务需要升级到更高级的样式上
```

需求理解和TVS的PRD给出的不一致；

样式的兼容性不够；

```
1.前端代码规范搭建、宣贯
2.开发流程规范化措施设计、宣贯
```

出现bug后前端没有log

```
1.日志场景区分。是给到测试的版本，则默认开启前端日志、串口日志；是realse的版本，则默认关闭前端日志、串口日志。
2.日志上报。有相关开源库能进行日志上报到服务器，及时定位bug
```

出现事故后到现场无法进行代码分析

```
1.sourceMap。能快速定位bug位置、单步调试。测试or开发场景开启；realse版本场景关闭
```

